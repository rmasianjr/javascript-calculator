(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,a){},15:function(e,t,a){},17:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),l=a.n(i),s=(a(15),a(2)),o=a(3),c=a(5),u=a(4),d=a(6),p=(a(17),function(e){var t=e.history;return r.a.createElement("div",{className:"history"},t)}),h=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={scale:1},a.displayRef=r.a.createRef(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.state.scale,t=this.displayRef.current,a=(t.parentNode.offsetWidth-45)/t.offsetWidth;e!==a&&(a<1?this.setState({scale:a}):e<1&&this.setState({scale:1}))}},{key:"render",value:function(){var e=this.state.scale,t=this.props.displayValue;return r.a.createElement("div",{id:"display",style:{transform:"scale(".concat(e,")")},ref:this.displayRef},t)}}]),t}(n.Component),m=(a(1),function(e){var t=e.children,a=e.id,n=e.onInputDigit;return r.a.createElement("button",{id:a,className:"Button",onClick:function(){return n(t)}},t)}),f=function(e){var t=e.children,a=e.onClear,n=e.id;return r.a.createElement("button",{id:n,className:"Button",onClick:function(){return a()}},t)},E=function(e){var t=e.children,a=e.onToggleSign;return r.a.createElement("button",{className:"Button",onClick:function(){return a()}},t)},v=function(e){var t=e.children,a=e.onInputDecimal,n=e.id;return r.a.createElement("button",{id:n,className:"Button",onClick:function(){return a()}},t)},y=function(e){var t=e.children,a=e.onOperation,n=e.id;return r.a.createElement("button",{id:n,className:"Button",onClick:function(){return a(t)}},t)},g=function(e){var t=e.children,a=e.onEquals,n=e.id;return r.a.createElement("button",{id:n,className:"Button",onClick:function(){return a()}},t)},O=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={displayValue:"0",history:"",prevValue:null,currentOperator:null,toOperation:!1,pressedEquals:!1},a.handleClearAll=function(){a.setState({displayValue:"0",history:"",currentOperator:null,toOperation:!1,prevValue:null,pressedEquals:!1})},a.handleToggleSign=function(){var e=a.state.displayValue;a.setState({displayValue:String(-1*parseFloat(e))})},a.handleInputDigit=function(e){var t=a.state,n=t.displayValue,r=t.toOperation,i=t.pressedEquals;r?a.setState({displayValue:e,toOperation:!1,pressedEquals:!1}):a.setState({displayValue:"0"===n||i?e:n+e,pressedEquals:!1})},a.handleInputDecimal=function(){var e=a.state,t=e.displayValue,n=e.pressedEquals,r=e.toOperation;n?a.setState({displayValue:"0.",pressedEquals:!1,prevValue:null}):r?a.setState({displayValue:"0.",toOperation:!1}):t.includes(".")||a.setState({displayValue:t+"."})},a.handleOperation=function(e){var t=a.state,n=t.prevValue,r=t.displayValue,i=t.currentOperator,l=t.history,s=t.toOperation,o=t.pressedEquals,c=parseFloat(r);if(s)a.setState({currentOperator:e,history:l.replace(/.$/,e)});else{var u=/\.$/.test(r)?r.replace(/\./,""):r;if(a.setState({currentOperator:e,toOperation:!0,history:"".concat(l," ").concat(u," ").concat(e),pressedEquals:!1}),null===n)a.setState({prevValue:c});else if(o)a.setState({prevValue:c});else if(i){var d=a.calculate(n,c,i),p=Math.round(1e10*d)/1e10;a.setState({prevValue:p,displayValue:String(p)})}}},a.handleEquals=function(){var e=a.state,t=e.prevValue,n=e.displayValue,r=e.currentOperator,i=e.pressedEquals;if(!r||i)a.setState({pressedEquals:!0,toOperation:!1});else{var l=a.calculate(t,parseFloat(n),r),s=Math.round(1e10*l)/1e10;a.setState({pressedEquals:!0,history:"",prevValue:s,displayValue:String(s),toOperation:!1})}},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"calculate",value:function(e,t,a){switch(a){case"\xf7":return e/t;case"\xd7":return e*t;case"-":return e-t;case"+":return e+t;default:return 0}}},{key:"render",value:function(){var e=this.state,t=e.displayValue,a=e.history;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"calculator"},r.a.createElement("div",{className:"screen"},r.a.createElement(p,{history:a}),r.a.createElement(h,{displayValue:t})),r.a.createElement("div",{className:"calculator-keys"},r.a.createElement("div",{className:"main-keys"},r.a.createElement("div",{className:"special-keys"},r.a.createElement(f,{id:"clear",onClear:this.handleClearAll},"AC"),r.a.createElement(E,{onToggleSign:this.handleToggleSign},"\xb1"),r.a.createElement(y,{id:"divide",onOperation:this.handleOperation},"\xf7")),r.a.createElement("div",{className:"num-keys"},r.a.createElement(m,{id:"nine",onInputDigit:this.handleInputDigit},"9"),r.a.createElement(m,{id:"eight",onInputDigit:this.handleInputDigit},"8"),r.a.createElement(m,{id:"seven",onInputDigit:this.handleInputDigit},"7"),r.a.createElement(m,{id:"six",onInputDigit:this.handleInputDigit},"6"),r.a.createElement(m,{id:"five",onInputDigit:this.handleInputDigit},"5"),r.a.createElement(m,{id:"four",onInputDigit:this.handleInputDigit},"4"),r.a.createElement(m,{id:"three",onInputDigit:this.handleInputDigit},"3"),r.a.createElement(m,{id:"two",onInputDigit:this.handleInputDigit},"2"),r.a.createElement(m,{id:"one",onInputDigit:this.handleInputDigit},"1"),r.a.createElement(v,{id:"decimal",onInputDecimal:this.handleInputDecimal},"."),r.a.createElement(m,{id:"zero",onInputDigit:this.handleInputDigit},"0"))),r.a.createElement("div",{className:"operation-keys"},r.a.createElement(y,{id:"multiply",onOperation:this.handleOperation},"\xd7"),r.a.createElement(y,{id:"subtract",onOperation:this.handleOperation},"-"),r.a.createElement(y,{id:"add",onOperation:this.handleOperation},"+"),r.a.createElement(g,{id:"equals",onEquals:this.handleEquals},"=")))),r.a.createElement("footer",{className:"footer"},r.a.createElement("span",null,"Created by:"," ",r.a.createElement("a",{className:"footer-link",href:"https://twitter.com/rmasianjr",target:"_blank",rel:"noopener noreferrer"},"Ricardo Masian Jr.")),r.a.createElement("span",null," | "),r.a.createElement("span",null,r.a.createElement("a",{className:"footer-link",href:"https://github.com/rmasianjr/javascript-calculator",target:"_blank",rel:"noopener noreferrer"},"View source code"))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(20)}},[[9,2,1]]]);
//# sourceMappingURL=main.fa1ad037.chunk.js.map